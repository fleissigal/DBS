<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>DBS - Dream Home</title>

      <!-- Scripts and css files -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
      <script src="/static/three/three.min.js"></script>
      <script src="/static/panolens/panolens.min.js"></script>

      <script src="/static/tether/dist/js/tether.min.js"></script>
      <script src="/static/dreamHome/main.js"></script>

      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
      <link rel="stylesheet" href="/static/dreamHome/main.css">

      <script src="/static/css/js/dist/tooltip.js"></script>
      <script src="/static/css/js/dist/popover.js"></script>

  </head>

  <body>

      <div class="row">

        <!-- The section in the page that contains the canvas -->
        <div class="col-md-8">
          <h1>360 Panoramic View</h1>
          <div id="canvasContainer"></div>
        </div>
        
        <!-- The section in the page that contains all the options and buttons -->
        <div class="col-md-4">

          <h1>Model</h1>
          {{ model.name }}

          <h1>Floor Plan</h1>
          {{ floor.name }}
          <br><br>
          <div class="floorplan">
            <img src="/static/360/floorPlan.png" style="width: 80%; height: 80%" alt="Floor Plan" />
            <a href="http://www.google.com" style="top: 10%; left: 0%; width: 30%; height: 40%;" alt="Bedroom"></a>
            <a href="http://www.apple.com" style="top: 5%; left: 30%; width: 30%; height: 45%;" alt="Kitchen"></a>
            <a href="http://www.amazon.com" style="top: 5%; left: 60%; width: 20%; height: 45%;" alt="Bathroom"></a>
            <a href="http://www.yahoo.com" style="top: 50%; left: 0%; width: 42%; height: 45%;" alt="Living Room"></a>
            <a href="http://www.instagram.com" style="top: 50%; left: 42%; width: 38%; height: 45%;" alt="Master Bedroom"></a>
          </div>

          <!-- Floor plan button grid that lets the user move between the different rooms of the house -->
          <h1>Rooms</h1>
          <div class="btn-group" data-toggle="buttons">
              {% for room in rooms %}
              <label class="btn btn-primary">
                <input class="room" houseID="{{ model.id }}" floorID="{{ floor.id }}" roomID="{{ room.id }}" type="radio" id="{{ room.name }}" autocomplete="off" name="gridRadio"> {{ room.description }}
              </label>
              {% endfor %}
              <div id="roomInfo" houseID="{{ model.id }}" floorID="{{ floor.id }}" roomID="{{ floor.deafultRoom.id }}"></div>
          </div>

          <!-- A dropdown menu of the options of the current room -->
          <h1>Options</h1>

          {% for optionType in optionTypes %}
            <select class="dropDownMenu" id="{{ optionType.name }}">
              {% for option in optionType.option_set.all %}
                <option class="dropdown-item option" name="{{ option.name }}" id="{{ option.imageName }}">{{ option.description }}</option>
              {% endfor %}
            </select>
            <br><br>
          {% endfor %}

          <!-- The price that updates when the different options change -->
          <h1>Price</h1>
          <h3 id="price" style="color: darkblue"></h3>

          <h1>Panoramic image upload</h1>
          <form action="uploadFile" method="post" enctype="multipart/form-data" id="submitImage">
            {% csrf_token %}
            <input type="file" name="picture" id="fileInput">
            <br>
            <button class="btn btn-primary">Upload</button>
          </form>
          <br>

          <h1>Share this room</h1>
          <!-- <form action="shareRoom" method="post" id="shareRoom"> -->
            <!-- {% csrf_token %} -->
            <button class="btn btn-primary" id="shareRoom">Share</button>
          <!-- </form> -->
          <br><br>

        </div>

      </div>

      <script>
        var panorama, viewer;
        {% if imageToLoad %}
          panorama = new PANOLENS.ImagePanorama( '/static/360/{{ imageToLoad }}.jpg' );
        {% else %}
          panorama = new PANOLENS.ImagePanorama( '/static/360/{{ mainRoom.name }}.jpg' );
        {% endif %}
        viewer = new PANOLENS.Viewer({  container: canvasContainer });
        viewer.add( panorama );
      </script>

  </body>

</html>